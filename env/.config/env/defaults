#!/usr/bin/env zsh

export EDITOR=vi
export XDG_CONFIG_HOME=$HOME/.config
export XDG_DATA_HOME=$HOME/.local/share

# Set to vi mode
bindkey -v

# Enable case-insensitive searching and colors
export LESS="iR"

init_powerline() {
  if [ -z $DISABLE_POWERLINE ]; then
    REPOSITORY_ROOT=/usr/local/lib/python3.8/site-packages
    source $REPOSITORY_ROOT/powerline/bindings/zsh/powerline.zsh
  fi
}

init_brew() {
  if ! command -v brew; then
    test -d ~/.linuxbrew && eval $(~/.linuxbrew/bin/brew shellenv)
    test -d /home/linuxbrew/.linuxbrew && eval $(/home/linuxbrew/.linuxbrew/bin/brew shellenv)
    test -r ~/.bash_profile && echo "eval \$($(brew --prefix)/bin/brew shellenv)" >>~/.bash_profile
    echo "eval \$($(brew --prefix)/bin/brew shellenv)" >>~/.profile
  fi
}

init_powerline
init_brew

# direnv hook
eval "$(direnv hook zsh)"
